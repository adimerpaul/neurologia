import{c as I,L as g,M as h,O as Q,P as L,R as T,S as C,T as U,U as z,V as q,W as F,A as G,X as K,h as w,Y as W,Z as X,$ as Y,a0 as Z,a1 as J,a2 as ee,_ as te,o as m,f as v,w as d,y as ne,j as c,g as o,C as $,D as ae,E as oe,a3 as le,a4 as se,a5 as k,a6 as x,a7 as S,t as D,I as u,z as A}from"./index.6fd4de14.js";var re=I({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=g(()=>{const l=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${l.length!==0?" "+l:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>h("div",{class:n.value},Q(t.default))}});const ie=Object.keys(L),ue=e=>ie.reduce((t,n)=>{const l=e[n];return l!==void 0&&(t[n]=l),t},{});var de=I({name:"QBtnDropdown",props:{...L,...T,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:l}=W(),r=C(e.modelValue),i=C(null),s=U(),b=g(()=>{const a={"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,"aria-label":e.toggleAriaLabel||l.$q.lang.label[r.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(a["aria-disabled"]="true"),a}),f=g(()=>"q-btn-dropdown__arrow"+(r.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),B=g(()=>z(e)),y=g(()=>ue(e));q(()=>e.modelValue,a=>{i.value!==null&&i.value[a?"show":"hide"]()}),q(()=>e.split,p);function M(a){r.value=!0,n("beforeShow",a)}function R(a){n("show",a),n("update:modelValue",!0)}function E(a){r.value=!1,n("beforeHide",a)}function O(a){n("hide",a),n("update:modelValue",!1)}function H(a){n("click",a)}function N(a){X(a),p(),n("click",a)}function j(a){i.value!==null&&i.value.toggle(a)}function _(a){i.value!==null&&i.value.show(a)}function p(a){i.value!==null&&i.value.hide(a)}return Object.assign(l,{show:_,hide:p,toggle:j}),F(()=>{e.modelValue===!0&&_()}),()=>{const a=[h(G,{class:f.value,name:e.dropdownIcon||l.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&a.push(h(K,{ref:i,id:s,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:M,onShow:R,onBeforeHide:E,onHide:O},t.default)),e.split===!1?h(w,{class:"q-btn-dropdown q-btn-dropdown--simple",...y.value,...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:H},{default:()=>Q(t.label,[]).concat(a),loading:t.loading}):h(re,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...B.value,glossy:e.glossy,stretch:e.stretch},()=>[h(w,{class:"q-btn-dropdown--current",...y.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:N},{default:t.label,loading:t.loading}),h(w,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...b.value,...B.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>a)])}}});function P(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var V=Y({name:"close-popup",beforeMount(e,{value:t}){const n={depth:P(t),handler(l){n.depth!==0&&setTimeout(()=>{const r=Z(e);r!==void 0&&J(r,l,n.depth)})},handlerKey(l){ee(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=P(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const ce={name:"RegisterPage",data(){return{loading:!1,registros:[],registro:{}}},mounted(){this.registroGet()},methods:{mandarRegistro(e){const t=e.phone.replace(/\D/g,""),n=`Hola ${e.firstName}, te damos la bienvenida. Tu cuenta ha sido creada:

Usuario: ${e.ci}
Contrase\xF1a: ${e.ci}`,l=`https://wa.me/591${t}?text=${encodeURIComponent(n)}`;window.open(l,"_blank")},crearUsuario(e){this.$q.loading.show(),this.$axios.post("/registro/crear-usuario",{id:e.id}).then(t=>{this.$q.notify({type:"positive",message:t.data.message,position:"top"})}).catch(t=>{var l,r;const n=((r=(l=t.response)==null?void 0:l.data)==null?void 0:r.message)||"Error al crear usuario";this.$q.notify({type:"warning",message:n,position:"top"})}).finally(()=>{this.$q.loading.hide()})},verFoto(e){this.$q.dialog({title:"Ver foto",message:`<img src="${this.$url}../storage/${e}" style="max-width: 100%; max-height: 100%;" />`,persistent:!0,html:!0})},registroGet(){this.loading=!0,this.$axios.get("/registro").then(e=>{this.registros=e.data,this.loading=!1}).catch(e=>{console.error("Error fetching registros:",e),this.loading=!1})}}},he=o("thead",null,[o("tr",null,[o("th",null,"Opciones"),o("th",null,"Nombre Completo"),o("th",null,"CI"),o("th",null,"Tel\xE9fono"),o("th",null,"Ver foto"),o("th",null,"Ver foto"),o("th",null,"Email"),o("th",null,"Profesi\xF3n"),o("th",null,"Departamento"),o("th",null,"Provincia"),o("th",null,"Direcci\xF3n")])],-1);function fe(e,t,n,l,r,i){return m(),v(ne,{class:"bg-grey-3 q-pa-md"},{default:d(()=>[c(le,{dense:"","wrap-cells":""},{default:d(()=>[he,o("tbody",null,[(m(!0),$(oe,null,ae(r.registros,(s,b)=>(m(),$("tr",{key:b},[o("td",null,[c(de,{color:"primary","text-color":"white",dense:"",label:"Opciones","no-caps":"",size:"xs"},{default:d(()=>[c(se,null,{default:d(()=>[k((m(),v(x,{clickable:"",onClick:f=>i.crearUsuario(s)},{default:d(()=>[c(S,null,{default:d(()=>[D("Crear usuario")]),_:1})]),_:2},1032,["onClick"])),[[V]]),k((m(),v(x,{clickable:"",onClick:f=>i.mandarRegistro(s)},{default:d(()=>[c(S,null,{default:d(()=>[D("Mandar por WhatsApp")]),_:1})]),_:2},1032,["onClick"])),[[V]])]),_:2},1024)]),_:2},1024)]),o("td",null,u(s.firstName)+" "+u(s.firstSurname)+" "+u(s.secondSurname),1),o("td",null,u(s.ci),1),o("td",null,u(s.phone),1),o("td",null,[c(A,{src:`${e.$url}../storage/${s.file}`,style:{"max-width":"100px","max-height":"100px"},onClick:f=>i.verFoto(s.file)},null,8,["src","onClick"])]),o("td",null,[c(A,{src:`${e.$url}../storage/${s.file2}`,style:{"max-width":"100px","max-height":"100px"},onClick:f=>i.verFoto(s.file2)},null,8,["src","onClick"])]),o("td",null,u(s.email),1),o("td",null,u(s.profession),1),o("td",null,u(s.departamento),1),o("td",null,u(s.provincia),1),o("td",null,u(s.direccion),1)]))),128))])]),_:1})]),_:1})}var ge=te(ce,[["render",fe]]);export{ge as default};
